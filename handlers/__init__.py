# =============================================
# handlers/__init__.py ‚Äî –†–ï–ì–ò–°–¢–†–ê–¶–ò–Ø –í–°–ï–• –•–≠–ù–î–õ–ï–†–û–í
# =============================================
"""
–≠—Ç–æ—Ç —Ñ–∞–π–ª –¥–µ–ª–∞–µ—Ç –ø–∞–ø–∫—É handlers/ –Ω–∞—Å—Ç–æ—è—â–∏–º Python-–ø–∞–∫–µ—Ç–æ–º.
–ó–¥–µ—Å—å –º—ã –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –í–°–ï —Ö—ç–Ω–¥–ª–µ—Ä—ã –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ.

–ü–æ—á–µ–º—É —Ç–∞–∫:
- –í main.py –±—É–¥–µ—Ç –æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞: register_all_handlers(dp)
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã (messages.py, callbacks.py) ‚Äî –ø—Ä–æ—Å—Ç–æ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π –∑–¥–µ—Å—å.
- –ò–∑–±–µ–≥–∞–µ–º —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∏–º–ø–æ—Ä—Ç–æ–≤.

–ê–≤—Ç–æ—Ä: Grok –ø–æ —Ç–≤–æ–µ–º—É –¢–ó
–î–∞—Ç–∞: 26 —Ñ–µ–≤—Ä–∞–ª—è 2026
"""

from aiogram import Dispatcher
import logging

from config import Config

logger = Config.get_logger(__name__)

def register_all_handlers(dp: Dispatcher) -> None:
    """
    –ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.
    –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –≤ main.py.
    
    –ü–æ—Ä—è–¥–æ–∫ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤–∞–∂–µ–Ω:
    1. –ö–æ–º–∞–Ω–¥—ã (/start, /help –∏ —Ç.–¥.)
    2. –¢–µ–∫—Å—Ç–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è
    3. Callback-–∑–∞–ø—Ä–æ—Å—ã
    """
    # –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –≤–Ω—É—Ç—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–∏, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö –∏–º–ø–æ—Ä—Ç–æ–≤
    from . import commands
    from . import messages
    from . import callbacks

    # –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –∫–æ–º–∞–Ω–¥—ã
    commands.register_commands(dp)
    
    # –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
    messages.register_messages(dp)
    
    # –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º callback'–∏
    callbacks.register_callbacks(dp)

    logger.info("‚úÖ –í—Å–µ —Ö—ç–Ω–¥–ª–µ—Ä—ã —É—Å–ø–µ—à–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã (commands + messages + callbacks)")
    logger.info("üöÄ –ë–æ—Ç –≥–æ—Ç–æ–≤ –∫ –ø—Ä–∏—ë–º—É —Å–æ–æ–±—â–µ–Ω–∏–π!")
